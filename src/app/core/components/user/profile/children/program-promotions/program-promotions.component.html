<div class="main-profile mx-auto mt-2">
  <div class=" bg-white  px-4 py-4 rounded-3 ">
    <h4  class="fw-bolder primary-500 mb-0">  {{'Promotion_programs' | translate}}</h4>
  </div>

  @if(!successJoining){
    <div class="bg-white px-4  py-4 my-4 rounded-3 border-gray overflow-hidden">
      <p>
        {{'Promotion_programs' | translate}}  
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.7733 6.66699C10.7733 6.66699 10.6733 7.33366 8.6066 10.0003C6.6666 12.5137 9.4733 14.427 9.80663 14.647C9.82663 14.6603 9.84662 14.6603 9.87328 14.647C10.3266 14.367 15.3733 11.1203 10.7733 6.66699Z" fill="#F97300"/>
        <path d="M9.17318 5.19337C9.17318 3.66004 8.57319 2.26004 7.97319 1.46004C7.77319 1.26004 7.43984 1.32671 7.37318 1.59337C7.10651 2.59337 6.30651 4.72671 4.37318 7.26004C1.90651 10.46 4.17319 13.9267 6.50652 14.5934C7.77318 14.9267 6.17319 13.9267 5.97319 11.86C5.77319 9.26004 9.17318 7.32671 9.17318 5.19337Z" fill="#F97300"/>
        </svg>
      </p>

      <div [class.isPromotionProgramsFormVisible]="isPromotionProgramsFormVisible ">
        <div [ngClass]="{'rounded-bottom-0': isPromotionProgramsFormVisible}" class=" row-width d-flex py-2 mb-1 px-4 align-items-center justify-content-between selector "  (click)="showPromtionPrograms()">
          <p style="font-size:14px;" class="gray-700 m-0">{{'chooseYourPromotionProgram'| translate}}</p>
          <a>
            @if(isPromotionProgramsFormVisible) {
            <i class="fa my-0 fa-caret-up" aria-hidden="true"></i>
            } @else {
            <i class="fa my-0 fa-caret-down" aria-hidden="true"></i>
            }
          </a>
        </div>

        @if(isPromotionProgramsFormVisible) {
          <ul class="px-0 row-width d-flex flex-column ">
            @for(item of programs; track item; let last=$last ){
              <li   [ngClass]="{'rounded-0': !last, 'rounded-top-0': last}" (click)="ShowDescription(item.id)" class="px-4 selector mb-1 py-2 list-unstyled gray-700 ">
              {{item.name}}
              </li>
            }
          </ul>
        }

        @if(JoinNowFlag){
          <div class="bg-white py-4  rounded-3 d-flex flex-column width-input">
            <div>
              <p>{{'programDescription' | translate}}
                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.38273 6.3002H1.84232C1.88565 3.77062 2.38398 3.35353 3.93857 2.4327C4.11732 2.32436 4.1769 2.09687 4.06857 1.9127C3.96565 1.73395 3.73273 1.67437 3.55398 1.7827C1.72315 2.86603 1.08398 3.52686 1.08398 6.67395V9.59353C1.08398 10.5198 1.8369 11.2673 2.75773 11.2673H4.38273C5.33607 11.2673 6.05648 10.5469 6.05648 9.59353V7.96853C6.05648 7.02061 5.33607 6.3002 4.38273 6.3002Z" fill="#928D8D"/>
                  <path d="M10.2417 6.3002H7.70125C7.74458 3.77062 8.24292 3.35353 9.7975 2.4327C9.97625 2.32437 10.0358 2.09687 9.9275 1.9127C9.81917 1.73395 9.59167 1.67437 9.4075 1.7827C7.57667 2.86603 6.9375 3.52687 6.9375 6.67937V9.59895C6.9375 10.5252 7.69042 11.2727 8.61125 11.2727H10.2362C11.1896 11.2727 11.91 10.5523 11.91 9.59895V7.97395C11.9154 7.02062 11.195 6.3002 10.2417 6.3002Z" fill="#D3D2D2"/>
                </svg>
              </p>
            </div>
            <div class="d-flex justify-content-between">
          <input class="border-0 selector w-65 py-2" placeholder=" {{Description}}" name="" id="" readonly/>
          <button (click)="ShowEmailForm()" [ngClass]="{'d-none': JoinNowFlagBtn}" class="btn btn-purple d-flex align-items-start py-2">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.00012 11.25C5.24262 11.25 2.18262 13.77 2.18262 16.875C2.18262 17.085 2.34762 17.25 2.55762 17.25H15.4426C15.6526 17.25 15.8176 17.085 15.8176 16.875C15.8176 13.77 12.7576 11.25 9.00012 11.25Z" fill="white"/>
              <path d="M11.7825 2.745C11.1075 1.98 10.1025 1.5 9 1.5C7.95 1.5 6.99 1.9275 6.3075 2.6325C5.655 3.3075 5.25 4.2375 5.25 5.25C5.25 5.955 5.445 6.615 5.7975 7.1775C5.985 7.5 6.225 7.7925 6.51 8.0325C7.1625 8.6325 8.0325 9 9 9C10.3725 9 11.5575 8.265 12.21 7.1775C12.405 6.855 12.555 6.495 12.6375 6.12C12.7125 5.8425 12.75 5.55 12.75 5.25C12.75 4.29 12.3825 3.4125 11.7825 2.745ZM10.4025 5.94H9.705V6.6675C9.705 7.0575 9.39 7.3725 9 7.3725C8.61 7.3725 8.295 7.0575 8.295 6.6675V5.94H7.5975C7.2075 5.94 6.8925 5.625 6.8925 5.235C6.8925 4.845 7.2075 4.53 7.5975 4.53H8.295V3.8625C8.295 3.4725 8.61 3.1575 9 3.1575C9.39 3.1575 9.705 3.4725 9.705 3.8625V4.53H10.4025C10.7925 4.53 11.1075 4.845 11.1075 5.235C11.1075 5.625 10.7925 5.94 10.4025 5.94Z" fill="white"/>
            </svg>
            <span> {{'joinNow' | translate}} </span>
          </button>
            </div>
          </div>
        }

        @if(ProgramDesFlag){
          <div class="bg-white mb-3 rounded-3  width-input">  
            <label for="">
              {{'enterYourWorkEmail' | translate}}
            </label>
            <form  [formGroup]="EmailForm"  class="d-flex">  
              <input  [ngClass]="{'is-invalid': (email?.touched || email?.dirty) && email?.invalid}"
              class="w-75 selector form-control"  formControlName="email"/>
              <button (click)="SubmitEmail(EmailForm)"  class="btn w-25 text-center btn-outline  py-1 ">
                {{'joinNow' | translate}} 
              </button>
            </form>
            <p *ngIf="EmailForm.get('email')?.getError('required') && EmailForm.get('email')?.touched"  class="text-danger text-capitalize">  {{'pleaseFillOutThisField' | translate}} </p>
          </div>
        }
      </div>

      @if(ProgramsJoined){
        <hr class="mt-5 mb-3">
        <div class="d-flex align-items-center mb-3">
          <p class="m-0">   {{'programsJoined' | translate}}</p>
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.7733 6.66699C10.7733 6.66699 10.6733 7.33366 8.6066 10.0003C6.6666 12.5137 9.4733 14.427 9.80663 14.647C9.82663 14.6603 9.84662 14.6603 9.87328 14.647C10.3266 14.367 15.3733 11.1203 10.7733 6.66699Z" fill="#F97300"/>
            <path d="M9.17318 5.19337C9.17318 3.66004 8.57319 2.26004 7.97319 1.46004C7.77319 1.26004 7.43984 1.32671 7.37318 1.59337C7.10651 2.59337 6.30651 4.72671 4.37318 7.26004C1.90651 10.46 4.17319 13.9267 6.50652 14.5934C7.77318 14.9267 6.17319 13.9267 5.97319 11.86C5.77319 9.26004 9.17318 7.32671 9.17318 5.19337Z" fill="#F97300"/>
          </svg>
        </div>
        <div class="row py-2 overflow-x-auto flex-nowrap px-2 gap-3">
          @for(item of programs; track item;){
            <div class= " col-6 col-md-4 bg-green d-flex align-items-center justify-content-center py-1 px-1">
            <p class="mb-0 ">{{item.description}}</p>
            </div>
          }
        </div>
      }
    </div>
  }

 @if(successJoining){
  <div class="bg-green px-4  py-5 my-4 rounded-3 d-flex align-items-center justify-content-center ">
   <p class="my-3">  {{'youAreNowjoiningMinistryInteriorProgram' | translate}} </p>
  </div>
 }
</div>