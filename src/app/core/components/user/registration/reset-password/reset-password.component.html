<div class="container-fluid registration login">
  <div class="container pt-5">
    <div class="container w-50">
      <form [formGroup]="resetPassForm" (ngSubmit)="onSubmit()" class=" p-4 form-control border-0">
        <h3 class="fw-bold text-center text-black opacity-75 mb-4">{{'resetPass' | translate}}</h3>
          <div class="row mb-3">
            <label>{{'new_password' | translate}}</label>
            <div class="position-relative">
              <input class="form-control text-end" [type]="showPassword ? 'text' : 'password'" formControlName="newPassword"
              [ngClass]="{'is-invalid':(newPassword?.touched || newPassword?.dirty)&& newPassword?.invalid}" />
              <i [ngClass]="{'d-none': showPassword}" (click)="togglePasswordVisibility()" class="position-absolute  fa-solid fa-eye"></i>
              <i [ngClass]="{'d-none': !showPassword}" (click)="togglePasswordVisibility()"  class="position-absolute fa-solid fa-eye-slash"></i>
              <span class="invalid-feedback">
                @if(newPassword?.errors?.['required']) {<span>{{'new_password_required' | translate}}</span>}
                @else if(newPassword?.errors?.['minlength']) {<span>{{'password_length' | translate}}</span>} 
                @else if(newPassword?.errors?.['pattern']) {<span>{{'errorMessage' | translate}}</span>}
              </span>
            </div>
          </div>
          <div class="row mb-2">
            <label>{{'new_password_confirm' | translate}}</label>
            <div class="position-relative">
              <input class="form-control" [type]="showPassword2 ? 'text' : 'password'" formControlName="confirmNewPassword"
              [ngClass]="{'is-invalid':(confirmNewPassword?.touched || confirmNewPassword?.dirty)&& confirmNewPassword?.invalid}"/>
              <i [ngClass]="{'d-none': showPassword2}" (click)="togglePasswordVisibility2()" class="position-absolute  fa-solid fa-eye"></i>
              <i [ngClass]="{'d-none': !showPassword2}" (click)="togglePasswordVisibility2()"  class="position-absolute fa-solid fa-eye-slash"></i>
              <span class="invalid-feedback">
                @if(confirmNewPassword?.errors?.['required']) {<span>{{'new_password_confirm_required' | translate}}</span>}
                @else if(confirmNewPassword?.errors?.['mismatch']) { <span>{{'new_password_confirm_invalid'| translate}}</span> }
                @else if(confirmNewPassword?.errors?.['pattern']) {<span>{{'errorMessage' | translate}}</span>}
              </span>
            </div>  
          </div>
          <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12">    
            <button class="w-100 btn-registration bg-primary-500 py-2 my-3" type="submit">{{'password_change' | translate}}</button>
          </div>
          </div>
          @if(serverSideError && serverSideError.length!=0)
          {
          <div class="mt-3 alert alert-danger alert-dismissible fade show" role="alert">
            <img src="assets/icons/alert-danger.svg">
            {{serverSideError}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
          }
      </form>
    </div>
  </div>
</div>


